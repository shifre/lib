<!DOCTYPE html>
<html lang="en" layout:decorator="layout/partner">
<head>
	<data:goods th:id="${utils.first(param.id)}" var="data"/>
	<data:goodscategorylist var="categorylist"/>
	<data:vendorlist var="vendorlist"/>
    <script th:inline="javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
        var updateOpts={
                linkPrefix:"goodsinfo"
        }
        window.uh = new UpdateHander(updateOpts);
        
        $(".btnAudit").click(function(){
        	var dh = new DialogHandler();
    		dh.confirm(bundle["goods.audit.hint"] , function(){
        		var action = "../goods/audit.json?goodsId=" + [[${data.goodsId}]];
                $.newform(action, "post", ".errorForm").ajax(false, null,function(){
                	setTimeout(function () {
                		$(".btnReturn").click();
                	  }, 500);
                }, null, false);
	        	return true;
    		});
        	
        });
	});
    /*]]>*/
    </script>        
</head>
<body>    
<div layout:fragment="content">
   <div class="contentpanel">
   	  <form id="form" method="post" class="form-horizontal form-bordered">
	          <div class="panel panel-default">
	                <div class="panel-heading">
	                    <div class="panel-title" th:text="#{field.goods.info.info}" />
	                </div>
	                <div class="panel-body nopadding">
	                	<div class="errorForm"/>
                        <div class="form-group">
                        	<input type="hidden" id="id" name="goodsId" th:value="${data.goodsId}"/>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.vendor}" />
								    <div class="col-sm-4">
								    	<div th:each="vendors,itemStat:${vendorlist}" th:remove="tag">
								    		<div th:if="${data.vendorId} == ${vendors.id}" th:remove="tag">
								    			<div class="well well-sm" th:text="${vendors.code}"/>
								    		</div>
								    	</div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.category}" />
								    <div class="col-sm-4">
								    	<div th:each="categorys,itemStat:${categorylist}" th:remove="tag">
								    		<div th:if="${data.categoryId} == ${categorys.id}" th:remove="tag">
								    			<div class="well well-sm" th:text="${categorys.code + ' ' + categorys.name}"/>
								    		</div>
								    	</div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.code}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.code}" >
								        </div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.name}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.name}" >
								        </div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.color}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.color}" >
								        </div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.spec}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.spec}" >
								        </div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.weight}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.weight}" >
								        </div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.volume}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.volume}" >
								        </div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.texture}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.texture}" >
								        </div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.unit}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.unit}" >
								        </div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.purDeliverTime}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.purDeliverTime}" >
								        </div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.saleDeliverTime}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.saleDeliverTime}" >
								        </div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.purPrice}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.purPrice}" >
								        </div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.salePrice}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.salePrice}" >
								        </div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.profit}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${(1 - data.purPrice/data.salePrice) * 100} + '%'" >
								        </div>
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.lcPrice}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.lcPrice}" >
								        </div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.orderMemo}" />
								    <div class="col-sm-7">
								        <div class="well well-sm" th:text="${data.orderMemo}"></div>
								    </div>
								</div>
							</div>
							<div class="form-group">
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.type}" />
								    <div class="col-sm-4">
								        <div class="well well-sm" th:text="${data.type == 'goods' ? '商品类' : '服务类'}" >
								        </div>
								    </div>
								</div>
								<div>
									<label class="col-sm-1 control-label"></label>
								    <div class="col-sm-1">
										<input type="checkbox" style="float: left;height: 30px;" disabled="disabled" name="customize" value="true" th:checked="${data.customize}" />
										<label class="control-label" th:text="#{field.goods.info.column.customize}" />
								    </div>
								    <div class="col-sm-1">
										<input type="checkbox" style="float: left;height: 30px;" disabled="disabled" name="accessories" value="true" th:checked="${data.accessories}" />
										<label class="control-label" th:text="#{field.goods.info.column.accessories}" />
								    </div>
								</div>
								<div>
								    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.count}" />
								    <div class="col-sm-2">
								    	<div class="well well-sm" th:text="${data.count}"></div>
								    </div>
								</div>
							</div>
							<div class="form-group">
							    <label class="col-sm-1 control-label" th:text="#{field.goods.info.column.hidden}" />
							   	<div class="col-sm-4">
									<img th:if="${data.hidden}" th:src="@{/assets/images/enabled_yes.png}" width="20px" class="mt10" />
									<img th:unless="${data.hidden}" th:src="@{/assets/images/enabled_no.png}" width="20px" class="mt10" />
							    </div>
							</div>
					    </div>
	             	</div> 
	                <div class="panel-footer">
	                	<button type="button" class="btn btnAudit btn-primary" th:disabled="${data.customizeAudit}" th:text="#{field.goods.info.button.audit}" />
		                <button type="button" class="btn btnEdit btn-primary" th:text="#{button.edit}" />
                    	<button type="button" class="btn btnRemove btn-danger" th:text="#{button.delete}" />
		                <button type="button" class="btn btnReturn btn-default" th:text="#{button.return}" />
			        </div>
	           </div>
	           </form>
	      </div>
	</div>
</body>
</html>